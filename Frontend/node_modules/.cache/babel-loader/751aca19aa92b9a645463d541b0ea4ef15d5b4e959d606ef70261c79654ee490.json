{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cheta\\\\OneDrive\\\\Desktop\\\\Hackathon\\\\Frontend\\\\src\\\\component\\\\profile\\\\ProfilePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ApiService from '../../service/ApiService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfilePage = () => {\n  _s();\n  var _user$bookings2;\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [updatingBooking, setUpdatingBooking] = useState(null);\n  const [newCheckInDate, setNewCheckInDate] = useState('');\n  const [startSlotLabel, setStartSlotLabel] = useState('');\n  const [endSlotLabel, setEndSlotLabel] = useState('');\n  const [availableTimeSlots, setAvailableTimeSlots] = useState([]);\n  const [bookedSlotLabels, setBookedSlotLabels] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      try {\n        const response = await ApiService.getUserProfile();\n        const userObj = response.user || response.data || response;\n        const userPlusBookings = await ApiService.getUserBookings(userObj.id);\n        setUser(userPlusBookings.user || userPlusBookings);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message);\n      }\n    };\n    fetchUserProfile();\n  }, []);\n  useEffect(() => {\n    const slots = [];\n    let hour = 8,\n      minute = 0,\n      id = 1;\n    while (hour < 19) {\n      const start = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n      minute += 30;\n      if (minute === 60) {\n        hour += 1;\n        minute = 0;\n      }\n      const end = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n      const label = `${formatTime(start)} - ${formatTime(end)}`;\n      slots.push({\n        id: id++,\n        label,\n        start,\n        end\n      });\n    }\n    setAvailableTimeSlots(slots);\n  }, []);\n  useEffect(() => {\n    var _user$bookings;\n    if (newCheckInDate && updatingBooking && (user === null || user === void 0 ? void 0 : (_user$bookings = user.bookings) === null || _user$bookings === void 0 ? void 0 : _user$bookings.length) > 0) {\n      const booked = user.bookings.filter(b => b.id !== updatingBooking.id && b.checkInDate === newCheckInDate).flatMap(b => b.timeSlots || []).map(slot => slot.label);\n      setBookedSlotLabels(booked);\n    } else {\n      setBookedSlotLabels([]);\n    }\n  }, [newCheckInDate, updatingBooking, user]);\n  const formatTime = time => {\n    const [h, m] = time.split(':');\n    const hour = parseInt(h, 10);\n    const min = m;\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const hour12 = hour % 12 === 0 ? 12 : hour % 12;\n    return `${hour12.toString().padStart(2, '0')}:${min} ${ampm}`;\n  };\n  const handleLogout = () => {\n    ApiService.logout();\n    navigate('/home');\n  };\n  const handleEditProfile = () => {\n    navigate('/edit-profile');\n  };\n  const handleShowUpdateModal = booking => {\n    var _booking$timeSlots, _booking$timeSlots$, _booking$timeSlots2, _booking$timeSlots3;\n    setUpdatingBooking(booking);\n    setNewCheckInDate(booking.checkInDate);\n    setStartSlotLabel(((_booking$timeSlots = booking.timeSlots) === null || _booking$timeSlots === void 0 ? void 0 : (_booking$timeSlots$ = _booking$timeSlots[0]) === null || _booking$timeSlots$ === void 0 ? void 0 : _booking$timeSlots$.label) || '');\n    setEndSlotLabel(((_booking$timeSlots2 = booking.timeSlots) === null || _booking$timeSlots2 === void 0 ? void 0 : (_booking$timeSlots3 = _booking$timeSlots2[booking.timeSlots.length - 1]) === null || _booking$timeSlots3 === void 0 ? void 0 : _booking$timeSlots3.label) || '');\n    setError('');\n    setSuccess('');\n    setShowUpdateModal(true);\n  };\n  const handleConfirmUpdate = async () => {\n    if (!newCheckInDate || !startSlotLabel || !endSlotLabel) {\n      setError(\"All fields are required.\");\n      return;\n    }\n    const startIdx = availableTimeSlots.findIndex(s => s.label === startSlotLabel);\n    const endIdx = availableTimeSlots.findIndex(s => s.label === endSlotLabel);\n    if (startIdx === -1 || endIdx === -1 || endIdx < startIdx) {\n      setError(\"Invalid time slot range.\");\n      return;\n    }\n    const selectedSlots = availableTimeSlots.slice(startIdx, endIdx + 1);\n    if (selectedSlots.some(slot => bookedSlotLabels.includes(slot.label))) {\n      setError(\"One or more selected slots are already booked.\");\n      return;\n    }\n    setError('');\n    try {\n      const payload = {\n        bookingId: updatingBooking.id,\n        checkInDate: newCheckInDate,\n        timeSlotIds: selectedSlots.map(slot => slot.id)\n      };\n      const response = await ApiService.updateBooking(payload);\n      if (response.statusCode === 200) {\n        setSuccess(`Booking updated successfully! Confirmation Code: ${response.bookingConfirmationCode || updatingBooking.bookingConfirmationCode}`);\n        setUser(prev => ({\n          ...prev,\n          bookings: prev.bookings.map(b => b.id === updatingBooking.id ? {\n            ...b,\n            checkInDate: newCheckInDate,\n            timeSlots: selectedSlots\n          } : b)\n        }));\n        setTimeout(() => {\n          setShowUpdateModal(false);\n          setSuccess('');\n        }, 1000);\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [user && /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Welcome, \", user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"edit-profile-button\",\n          onClick: handleEditProfile,\n          children: \"Edit Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"logout-button\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"success-message\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"My Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 14\n        }, this), \" \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Phone:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 14\n        }, this), \" \", user.phoneNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bookings-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Booking History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-list\",\n        children: (user === null || user === void 0 ? void 0 : (_user$bookings2 = user.bookings) === null || _user$bookings2 === void 0 ? void 0 : _user$bookings2.length) > 0 ? user.bookings.map(booking => {\n          var _booking$timeSlots4, _booking$room, _booking$room2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"booking-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Confirmation Code:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 20\n              }, this), \" \", booking.bookingConfirmationCode]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 20\n              }, this), \" \", booking.checkInDate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Time Slots:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: ((_booking$timeSlots4 = booking.timeSlots) === null || _booking$timeSlots4 === void 0 ? void 0 : _booking$timeSlots4.length) > 0 ? booking.timeSlots.map((slot, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: slot.label || `${formatTime(slot.startTime)} - ${formatTime(slot.endTime)}`\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 23\n              }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Room Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 20\n              }, this), \" \", ((_booking$room = booking.room) === null || _booking$room === void 0 ? void 0 : _booking$room.roomType) || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this), ((_booking$room2 = booking.room) === null || _booking$room2 === void 0 ? void 0 : _booking$room2.roomPhotoUrl) && /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"room-photo\",\n              src: booking.room.roomPhotoUrl,\n              alt: \"Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"update-button\",\n                onClick: () => handleShowUpdateModal(booking),\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"cancel-button\",\n                onClick: async () => {\n                  try {\n                    await ApiService.cancelBooking(booking.id);\n                    setUser(prev => ({\n                      ...prev,\n                      bookings: prev.bookings.filter(b => b.id !== booking.id)\n                    }));\n                  } catch (error) {\n                    var _error$response3, _error$response3$data;\n                    setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || error.message);\n                  }\n                },\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)]\n          }, booking.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No bookings found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), showUpdateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Update Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"New Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: newCheckInDate,\n          onChange: e => {\n            setNewCheckInDate(e.target.value);\n            setStartSlotLabel('');\n            setEndSlotLabel('');\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Start Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: startSlotLabel,\n          onChange: e => {\n            setStartSlotLabel(e.target.value);\n            setEndSlotLabel('');\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Select Start Time --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), availableTimeSlots.map(slot => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: slot.label,\n            disabled: bookedSlotLabels.includes(slot.label),\n            children: [slot.label, \" \", bookedSlotLabels.includes(slot.label) ? '(Booked)' : '']\n          }, slot.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"End Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: endSlotLabel,\n          onChange: e => setEndSlotLabel(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Select End Time --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), availableTimeSlots.map((slot, idx) => {\n            const isBooked = bookedSlotLabels.includes(slot.label);\n            const startIdx = availableTimeSlots.findIndex(s => s.label === startSlotLabel);\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: slot.label,\n              disabled: isBooked || startSlotLabel && idx < startIdx,\n              children: [slot.label, \" \", isBooked ? '(Booked)' : '']\n            }, slot.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleConfirmUpdate,\n            className: \"confirm-btn\",\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowUpdateModal(false),\n            className: \"cancel-btn\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 23\n        }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"success-message\",\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfilePage, \"rJFmRq6Wg3Hjf2Rdztsz8w/JlDY=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfilePage;\nexport default ProfilePage;\nvar _c;\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ApiService","jsxDEV","_jsxDEV","ProfilePage","_s","_user$bookings2","user","setUser","error","setError","success","setSuccess","showUpdateModal","setShowUpdateModal","updatingBooking","setUpdatingBooking","newCheckInDate","setNewCheckInDate","startSlotLabel","setStartSlotLabel","endSlotLabel","setEndSlotLabel","availableTimeSlots","setAvailableTimeSlots","bookedSlotLabels","setBookedSlotLabels","navigate","fetchUserProfile","response","getUserProfile","userObj","data","userPlusBookings","getUserBookings","id","_error$response","_error$response$data","message","slots","hour","minute","start","toString","padStart","end","label","formatTime","push","_user$bookings","bookings","length","booked","filter","b","checkInDate","flatMap","timeSlots","map","slot","time","h","m","split","parseInt","min","ampm","hour12","handleLogout","logout","handleEditProfile","handleShowUpdateModal","booking","_booking$timeSlots","_booking$timeSlots$","_booking$timeSlots2","_booking$timeSlots3","handleConfirmUpdate","startIdx","findIndex","s","endIdx","selectedSlots","slice","some","includes","payload","bookingId","timeSlotIds","updateBooking","statusCode","bookingConfirmationCode","prev","setTimeout","_error$response2","_error$response2$data","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","email","phoneNumber","_booking$timeSlots4","_booking$room","_booking$room2","i","startTime","endTime","room","roomType","roomPhotoUrl","src","alt","cancelBooking","_error$response3","_error$response3$data","type","value","onChange","e","target","disabled","idx","isBooked","_c","$RefreshReg$"],"sources":["C:/Users/cheta/OneDrive/Desktop/Hackathon/Frontend/src/component/profile/ProfilePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ApiService from '../../service/ApiService';\n\nconst ProfilePage = () => {\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [updatingBooking, setUpdatingBooking] = useState(null);\n  const [newCheckInDate, setNewCheckInDate] = useState('');\n  const [startSlotLabel, setStartSlotLabel] = useState('');\n  const [endSlotLabel, setEndSlotLabel] = useState('');\n  const [availableTimeSlots, setAvailableTimeSlots] = useState([]);\n  const [bookedSlotLabels, setBookedSlotLabels] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      try {\n        const response = await ApiService.getUserProfile();\n        const userObj = response.user || response.data || response;\n        const userPlusBookings = await ApiService.getUserBookings(userObj.id);\n        setUser(userPlusBookings.user || userPlusBookings);\n      } catch (error) {\n        setError(error.response?.data?.message || error.message);\n      }\n    };\n    fetchUserProfile();\n  }, []);\n\n  useEffect(() => {\n    const slots = [];\n    let hour = 8, minute = 0, id = 1;\n    while (hour < 19) {\n      const start = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n      minute += 30;\n      if (minute === 60) {\n        hour += 1;\n        minute = 0;\n      }\n      const end = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n      const label = `${formatTime(start)} - ${formatTime(end)}`;\n      slots.push({ id: id++, label, start, end });\n    }\n    setAvailableTimeSlots(slots);\n  }, []);\n\n  useEffect(() => {\n    if (newCheckInDate && updatingBooking && user?.bookings?.length > 0) {\n      const booked = user.bookings\n        .filter(b => b.id !== updatingBooking.id && b.checkInDate === newCheckInDate)\n        .flatMap(b => b.timeSlots || [])\n        .map(slot => slot.label);\n      setBookedSlotLabels(booked);\n    } else {\n      setBookedSlotLabels([]);\n    }\n  }, [newCheckInDate, updatingBooking, user]);\n\n  const formatTime = (time) => {\n    const [h, m] = time.split(':');\n    const hour = parseInt(h, 10);\n    const min = m;\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const hour12 = hour % 12 === 0 ? 12 : hour % 12;\n    return `${hour12.toString().padStart(2, '0')}:${min} ${ampm}`;\n  };\n\n  const handleLogout = () => {\n    ApiService.logout();\n    navigate('/home');\n  };\n\n  const handleEditProfile = () => {\n    navigate('/edit-profile');\n  };\n\n  const handleShowUpdateModal = (booking) => {\n    setUpdatingBooking(booking);\n    setNewCheckInDate(booking.checkInDate);\n    setStartSlotLabel(booking.timeSlots?.[0]?.label || '');\n    setEndSlotLabel(booking.timeSlots?.[booking.timeSlots.length - 1]?.label || '');\n    setError('');\n    setSuccess('');\n    setShowUpdateModal(true);\n  };\n\n  const handleConfirmUpdate = async () => {\n    if (!newCheckInDate || !startSlotLabel || !endSlotLabel) {\n      setError(\"All fields are required.\");\n      return;\n    }\n    const startIdx = availableTimeSlots.findIndex(s => s.label === startSlotLabel);\n    const endIdx = availableTimeSlots.findIndex(s => s.label === endSlotLabel);\n    if (startIdx === -1 || endIdx === -1 || endIdx < startIdx) {\n      setError(\"Invalid time slot range.\");\n      return;\n    }\n    const selectedSlots = availableTimeSlots.slice(startIdx, endIdx + 1);\n    if (selectedSlots.some(slot => bookedSlotLabels.includes(slot.label))) {\n      setError(\"One or more selected slots are already booked.\");\n      return;\n    }\n    setError('');\n    try {\n      const payload = {\n        bookingId: updatingBooking.id,\n        checkInDate: newCheckInDate,\n        timeSlotIds: selectedSlots.map(slot => slot.id)\n      };\n      const response = await ApiService.updateBooking(payload);\n      if (response.statusCode === 200) {\n        setSuccess(`Booking updated successfully! Confirmation Code: ${response.bookingConfirmationCode || updatingBooking.bookingConfirmationCode}`);\n        setUser(prev => ({\n          ...prev,\n          bookings: prev.bookings.map(b => b.id === updatingBooking.id ? { ...b, checkInDate: newCheckInDate, timeSlots: selectedSlots } : b)\n        }));\n        setTimeout(() => {\n          setShowUpdateModal(false);\n          setSuccess('');\n        }, 1000);\n      }\n    } catch (error) {\n      setError(error.response?.data?.message || error.message);\n    }\n  };\n\n  return (\n    <div className=\"profile-page container\">\n      <div className=\"header\">\n        {user && <h2>Welcome, {user.name}</h2>}\n        <div className=\"profile-actions\">\n          <button className=\"edit-profile-button\" onClick={handleEditProfile}>Edit Profile</button>\n          <button className=\"logout-button\" onClick={handleLogout}>Logout</button>\n        </div>\n      </div>\n\n      {error && <p className=\"error-message\">{error}</p>}\n      {success && <p className=\"success-message\">{success}</p>}\n\n      {user && (\n        <div className=\"profile-details\">\n          <h3>My Profile</h3>\n          <p><strong>Email:</strong> {user.email}</p>\n          <p><strong>Phone:</strong> {user.phoneNumber}</p>\n        </div>\n      )}\n\n      <div className=\"bookings-section\">\n        <h3>Booking History</h3>\n        <div className=\"booking-list\">\n          {user?.bookings?.length > 0 ? (\n            user.bookings.map((booking) => (\n              <div key={booking.id} className=\"booking-card\">\n                <p><strong>Confirmation Code:</strong> {booking.bookingConfirmationCode}</p>\n                <p><strong>Date:</strong> {booking.checkInDate}</p>\n                <p><strong>Time Slots:</strong></p>\n                <ul>\n                  {booking.timeSlots?.length > 0 ? (\n                    booking.timeSlots.map((slot, i) => (\n                      <li key={i}>{slot.label || `${formatTime(slot.startTime)} - ${formatTime(slot.endTime)}`}</li>\n                    ))\n                  ) : <li>N/A</li>}\n                </ul>\n                <p><strong>Room Type:</strong> {booking.room?.roomType || 'N/A'}</p>\n                {booking.room?.roomPhotoUrl && (\n                  <img className=\"room-photo\" src={booking.room.roomPhotoUrl} alt=\"Room\" />\n                )}\n                <div className=\"booking-buttons\">\n                  <button className=\"update-button\" onClick={() => handleShowUpdateModal(booking)}>Update</button>\n                  <button className=\"cancel-button\" onClick={async () => {\n                    try {\n                      await ApiService.cancelBooking(booking.id);\n                      setUser(prev => ({\n                        ...prev,\n                        bookings: prev.bookings.filter(b => b.id !== booking.id)\n                      }));\n                    } catch (error) {\n                      setError(error.response?.data?.message || error.message);\n                    }\n                  }}>Cancel</button>\n                </div>\n              </div>\n            ))\n          ) : <p>No bookings found.</p>}\n        </div>\n      </div>\n\n      {showUpdateModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <h3>Update Booking</h3>\n            <label>New Date:</label>\n            <input type=\"date\" value={newCheckInDate} onChange={(e) => { setNewCheckInDate(e.target.value); setStartSlotLabel(''); setEndSlotLabel(''); }} />\n            <label>Start Time:</label>\n            <select value={startSlotLabel} onChange={e => { setStartSlotLabel(e.target.value); setEndSlotLabel(''); }}>\n              <option value=\"\">-- Select Start Time --</option>\n              {availableTimeSlots.map(slot => (\n                <option key={slot.id} value={slot.label} disabled={bookedSlotLabels.includes(slot.label)}>\n                  {slot.label} {bookedSlotLabels.includes(slot.label) ? '(Booked)' : ''}\n                </option>\n              ))}\n            </select>\n            <label>End Time:</label>\n            <select value={endSlotLabel} onChange={e => setEndSlotLabel(e.target.value)}>\n              <option value=\"\">-- Select End Time --</option>\n              {availableTimeSlots.map((slot, idx) => {\n                const isBooked = bookedSlotLabels.includes(slot.label);\n                const startIdx = availableTimeSlots.findIndex(s => s.label === startSlotLabel);\n                return (\n                  <option\n                    key={slot.id}\n                    value={slot.label}\n                    disabled={isBooked || (startSlotLabel && idx < startIdx)}\n                  >\n                    {slot.label} {isBooked ? '(Booked)' : ''}\n                  </option>\n                );\n              })}\n            </select>\n            <div className=\"modal-actions\">\n              <button onClick={handleConfirmUpdate} className=\"confirm-btn\">Confirm</button>\n              <button onClick={() => setShowUpdateModal(false)} className=\"cancel-btn\">Cancel</button>\n            </div>\n            {error && <p className=\"error-message\">{error}</p>}\n            {success && <p className=\"success-message\">{success}</p>}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}; \n\nexport default ProfilePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}